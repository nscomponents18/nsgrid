<!DOCTYPE html>

<html>
<head>
	  <link href="/JSLib/lib/css/com/org/nsGrid.css" rel="stylesheet" type="text/css" />
    <link href="/JSLib/lib/css/com/org/nsMenu.css" rel="stylesheet" type="text/css" />
    <link href="/JSLib/lib/css/com/org/nsComponent.css" rel="stylesheet" type="text/css" />
    <link href="/JSLib/lib/css/com/org/nsPagination.css" rel="stylesheet" type="text/css" />
    <link href="/JSLib/lib/css/com/org/nsList.css" rel="stylesheet" type="text/css" />
    <link href="/JSLib/lib/css/com/org/nsScroller.css" rel="stylesheet" type="text/css" />
    <link href="/JSLib/lib/css/com/org/nsCalendar.css" rel="stylesheet">
    <link href="/JSLib/lib/css/com/org/nsDatePicker.css" rel="stylesheet">
    
    
<!--     <link href="generated/css/nsComponent.min.css" rel="stylesheet" type="text/css" /> -->
<!--     <link href="generated/css/nsScroller.min.css" rel="stylesheet" type="text/css" /> -->
<!--     <link href="generated/css/nsGrid.min.css" rel="stylesheet" type="text/css" /> -->
<!--     <link href="generated/css/nsDatePicker.min.css" rel="stylesheet" type="text/css" /> -->

	<!--  <link href="https://unpkg.com/nscontainerbase@0.3.2/nsComponent.min.css" rel="stylesheet" type="text/css" />
   <link href="https://unpkg.com/nsscroller@0.3.2/nsScroller.min.css" rel="stylesheet" type="text/css" />
    <link href="https://unpkg.com/nsgrid@0.3.2/nsGrid.min.css" rel="stylesheet" type="text/css" />
    <link href="https://unpkg.com/nsdatepicker@0.3.2/nsDatePicker.min.css" rel="stylesheet" type="text/css" />-->
<style>

.nonFirstGridBodyCell
{
	padding-left:5px !important;
}

/*For Menus */
.compMenu {
    list-style-type: none;
    margin: 0;
    padding: 0;
    overflow: hidden;
    border: 1px solid #e7e7e7;
    background-color: #f3f3f3;
    position: fixed;
    top: 0;
    width: 100%;
}

.compMenu li {
    float: left;
}

.compMenu li a {
    display: block;
    color: #666;
    text-align: center;
    padding: 14px 16px;
    text-decoration: none;
}

.compMenu li a:hover:not(.active) {
    background-color: #ddd;
}

.compMenu li a.active {
    color: white;
    background-color: #4CAF50;
}

/*End of Menus */

</style>
</head>
<body>

<ul id="compMenu" class="compMenu">
  <li><a class="active" href="#hierarchical">Hierarchical</a></li>
  <li><a href="#grouping">Grouping</a></li>
  <li><a href="#multilevelgrouping">Multi Level Grouping</a></li>
  <li><a href="#flat">Flat</a></li>
  <li><a href="#asyncloading">Async Loading</a></li>
  <li><a href="#refreshonscrollend">Refresh On Scroll End</a></li>
  <li><a href="#pagination">Pagination Demo</a></li>
  <li><a href="#mobileview">Mobile View</a></li>
  <li><a href="#multisortcolumn">Multi Column Sort</a></li>
  <li><a href="#gridWithExtraHeaderRows">Grid With Extra Header Rows</a></li>
  <li><a href="#editableGrid">Editable Grid</a></li>
  <li><a href="#editableMultipleGrid">Editable Multiple Grid</a></li>
  <li><a href="#editableRowGrid">Editable Row Grid</a></li>
  <li><a href="#editableGridWithInitiator">Editable Grid With Initiator</a></li>
  <li><a href="#editableMultipleRowGrid">Editable Multiple Row Grid</a></li>
  <li><a href="#editableRowGridWithInitiator">Editable Row Grid With Initiator</a></li>
  <li><a href="#groupingGridEditor">Grouping Grid Editor</a></li>
  <li><a href="#onDemandHierarchy">On Demand Hierarchy</a></li>
  <li><a href="#customIcons">Custom Icons</a></li>
  <li><a href="#customScroll">Custom Scroll</a></li>
  <li><a href="#filtered">Filter</a></li>
  <li><a href="#footer">Footer</a></li>
  <li><a href="#footerWithCustomScroll">Footer With CustomScroll</a></li>
  <li><a href="#export">Export Demo</a></li>
  <li><a href="#realTimeRefresh">Real Time Refresh</a></li>
</ul>
<div id="divDetails">
	
</div>

<!--  <script src="/JSLib/lib/com/org/util/nsIEUtils.js"></script>
<script src="/JSLib/lib/com/org/util/nsUtil.js"></script>
<script src="/JSLib/lib/com/org/prototype/base/nsContainerBase.js"></script> 
<script src="/JSLib/lib/com/org/util/nsSVG.js"></script>
<script src="/JSLib/lib/com/org/util/nsVirtualScroll.js"></script>
<script src="/JSLib/lib/com/org/prototype/nsGrid1.js"></script>
<script src="/JSLib/lib/com/org/util/nsRouter.js"></script>
<script src="/JSLib/lib/com/org/util/nsAjax.js"></script>-->


<!-- <script src="https://cdn.polyfill.io/v2/polyfill.min.js"></script> -->
<script src="/JSLib/lib/com/org/util/nsIEUtils.js"></script>
<script src="/JSLib/lib/com/org/util/nsUtil.js"></script>
<script src="/JSLib/lib/com/org/util/nsPluggins.js"></script>
<script src="/JSLib/lib/com/org/util/nsTouchToMouse.js"></script>
<script src="/JSLib/lib/com/org/prototype/base/nsContainerBase.js"></script> 
<script src="/JSLib/lib/com/org/util/nsPagination.js"></script>
<script src="/JSLib/lib/com/org/util/nsScrollAnimator.js"></script>
<script src="/JSLib/lib/com/org/util/nsScroller.js"></script>
<script src="/JSLib/lib/com/org/util/nsSVG.js"></script>
<script src="/JSLib/lib/com/org/util/nsMenu.js"></script>
<script src="/JSLib/lib/com/org/util/nsVirtualScroll.js"></script>
<script src="/JSLib/lib/com/org/util/nsFlatGrid.js"></script>
<script src="/JSLib/lib/com/org/util/nsGroupingGrid.js"></script>
<script src="/JSLib/lib/com/org/util/nsHierarchicalGrid.js"></script>
<script src="/JSLib/lib/com/org/util/nsFilter.js"></script>
<script src="/JSLib/lib/com/org/util/nsGridPluggins.js"></script>
<script src="/JSLib/lib/com/org/prototype/nsGrid.js"></script>
<script src="/JSLib/lib/com/org/prototype/nsList.js"></script>
<script src="/JSLib/lib/com/org/util/nsXlsxExport.js"></script>
<script src="/JSLib/lib/com/org/util/nsZip.js"></script>
<script src="/JSLib/lib/com/org/util/nsExport.js"></script>
<script src="/JSLib/lib/com/org/util/nsRouter.js"></script>
<script src="/JSLib/lib/com/org/util/nsDateUtil.js"></script>
<script src="/JSLib/lib/com/org/util/nsAjax.js"></script>
<script src="/JSLib/lib/com/org/prototype/nsCalendar.js"></script>
<script src="/JSLib/lib/com/org/prototype/nsDatePicker.js"></script>

<!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script> -->
<!--  <script src="generated/js/nsUtil.min.js"></script> -->
<!--  <script src="generated/js/nsSVG.min.js"></script> -->
<!--  <script src="generated/js/nsContainerBase.min.js"></script> -->
<!--  <script src="generated/js/nsPluggins.min.js"></script> -->
<!--  <script src="generated/js/nsScroller.min.js"></script> -->
<!--  <script src="generated/js/nsGrid.min.js"></script> -->
<!--  <script src="generated/js/nsRouter.min.js"></script> -->
<!--  <script src="generated/js/nsDatePicker.min.js"></script> -->
<!--  <script src="generated/js/nsAjax.min.js"></script> -->
 
 <!--  <script src="https://unpkg.com/nscomputil@0.3.2"></script>
 <script src="https://unpkg.com/nssvg@0.3.2"></script>
 <script src="https://unpkg.com/nscontainerbase@0.3.2"></script>
 <script src="https://unpkg.com/nspluggins@0.3.2"></script>
 <script src="https://unpkg.com/nsscroller@0.3.2"></script>
 <script src="https://unpkg.com/nsgrid@0.3.2"></script>
 <script src="https://unpkg.com/nsrouter@0.3.2"></script>
 <script src="https://unpkg.com/nsdatepicker@0.3.2"></script>
 <script src="https://unpkg.com/nsajax@0.3.2"></script> -->

<script>
var nsRouter = null;
var callbackInterval = null;
var util = null;

function getUrl()
{
	var loc = window.location;
	var url = loc.origin + "/NSGridDemo/indexMob.jsp";
	return url;
};

function loadHandler(event) 
{
	util = new NSUtil();
	if(util.isMobile().any)
	{
		window.location.href = getUrl();
	}
	else
	{
		var loadTemplateRef = loadTemplate.bind(this);
		var arrRoute = [{route:"/hierarchical",templateUrl:"template/hierarchicalGrid.jsp",callback:"loadHierarchicalHandler",handler:loadTemplateRef},
				        {route:"/grouping",templateUrl:"template/groupingGrid.jsp",callback:"loadGroupHandler",handler:loadTemplateRef},
				        {route:"/multilevelgrouping",templateUrl:"template/multiLevelGroupingGrid.jsp",callback:"loadMultiLevelGroupHandler",handler:loadTemplateRef},
						{route:"/flat",templateUrl:"template/flatGrid.jsp",callback:"loadFlatHandler",handler:loadTemplateRef},
				        {route:"/asyncloading",templateUrl:"template/asyncLoading.jsp",callback:"loadAysncHandler",handler:loadTemplateRef},
				        {route:"/refreshonscrollend",templateUrl:"template/refreshOnScrollEnd.jsp",callback:"loadRefreshOnScrollEnd",handler:loadTemplateRef},
				        {route:"/pagination",templateUrl:"template/paginationDemo.jsp",callback:"loadPagination",handler:loadTemplateRef},
				        {route:"/multisortcolumn",templateUrl:"template/multiSortColumn.jsp",callback:"loadMultiSortColumnView",handler:loadTemplateRef},
				        {route:"/mobileview",templateUrl:"template/mobileView.jsp",callback:"loadMobileView",handler:loadTemplateRef},
				        {route:"/gridWithExtraHeaderRows",templateUrl:"template/gridWithExtraHeaderRows.jsp",callback:"loadGridWithExtraHeaderRows",handler:loadTemplateRef},
				        {route:"/editableGrid",templateUrl:"template/editableGrid.jsp",callback:"loadEditableGrid",handler:loadTemplateRef},
				        {route:"/editableMultipleGrid",templateUrl:"template/editableGridMultiple.jsp",callback:"loadMultipleEditableGrid",handler:loadTemplateRef},
				        {route:"/editableRowGrid",templateUrl:"template/editableRowGrid.jsp",callback:"loadEditableRowGrid",handler:loadTemplateRef},
				        {route:"/editableGridWithInitiator",templateUrl:"template/editableGridWithInitiator.jsp",callback:"loadEditableGridWithInitiator",handler:loadTemplateRef},
				        {route:"/editableMultipleRowGrid",templateUrl:"template/editableRowGridMultiple.jsp",callback:"loadMultipleEditableRowGrid",handler:loadTemplateRef},
				        {route:"/editableRowGridWithInitiator",templateUrl:"template/editableRowGridWithInitiator.jsp",callback:"loadEditableRowGridWithInitiator",handler:loadTemplateRef},
				        {route:"/groupingGridEditor",templateUrl:"template/groupingGridEditor.jsp",callback:"loadGroupingEditorView",handler:loadTemplateRef},
				        {route:"/onDemandHierarchy",templateUrl:"template/onDemandHierarchy.jsp",callback:"loadOnDemandHierarchyHandler",handler:loadTemplateRef},
				        {route:"/customIcons",templateUrl:"template/customIconsGrid.jsp",callback:"loadCustomIconsHandler",handler:loadTemplateRef},
				        {route:"/customScroll",templateUrl:"template/customScroll.jsp",callback:"loadCustomScrollHandler",handler:loadTemplateRef},
				        {route:"/filtered",templateUrl:"template/filteredGrid.jsp",callback:"loadFilteredHandler",handler:loadTemplateRef},
				        {route:"/footer",templateUrl:"template/footerGrid.jsp",callback:"loadFooterHandler",handler:loadTemplateRef},
				        {route:"/footerWithCustomScroll",templateUrl:"template/footerGridWithCustomScroll.jsp",callback:"loadFooterGridWithCustomScrollHandler",handler:loadTemplateRef},
				        {route:"/export",templateUrl:"template/exportDemo.jsp",callback:"loadExportDemoHandler",handler:loadTemplateRef},
				        {route:"/realTimeRefresh",templateUrl:"template/realTimeRefreshGrid.jsp",callback:"loadRealTimeRefreshDemoHandler",handler:loadTemplateRef},
				      ];
		var setting = {mode:"hash",defaultRoute:"/hierarchical"};//,templateTarget:"myDiv"
		nsRouter = new NSRouter(arrRoute,setting);
		//console.log(document.querySelector('[data-ns-container]') || document.querySelector('[ns-container]'));
		windowResizeHandler();
	}
}

function loadTemplate(item)
{
	var self = this;
	var divDetails = document.querySelector("#divDetails");
	if(item["templateUrl"])
	{
		selectMenu(null,item["route"]);
		var templateLoadHandler = function(templateText)
		{
			divDetails.innerHTML = "";
			if(templateText)
			{
				divDetails.appendChild(getElementFromText(templateText));
				fireCallback(item);
				//callbackInterval = setInterval(function(){fireCallback(item)} ,1000);
			}
			else
			{
				console.error(item["templateUrl"] + " was not loaded.Please check the URL")
			}
		};
		var templateErrorHandler = function(errorText)
		{
			divDetails.innerHTML = "";
			console.error(item["templateUrl"] + " was not loaded.Please check the URL")
		};
		util.getTemplateFromURL(item["templateUrl"],templateLoadHandler,templateErrorHandler);
	}
}

function fireCallback(item)
{
	//evalScript(document.querySelector("#divDetails"),item);
	if(window[item["callback"]])
	{
		clearInterval(callbackInterval);
		window[item["callback"]]();
	}
}

function deselectAllMenu()
{
	var arrActive = document.querySelectorAll('.active');
	for(var count = 0;count < arrActive.length;count++)
	{
		arrActive[count].setAttribute("class","");
	}
}

function selectMenu(anchor,path)
{
	deselectAllMenu();
	if(!anchor)
	{
		var compMenu = document.querySelector("#compMenu");
		var arrAnchor = compMenu.querySelectorAll("a");
		for(var count = 0;count < arrAnchor.length;count++)
		{
			if(arrAnchor[count].getAttribute("href").substring(1) === path.substring(1))
			{
				anchor = arrAnchor[count];
			}
		}
	}
	anchor.setAttribute("class","active");
}

function getElementFromText(htmlText)
{
	if(htmlText)
	{
		var div = document.createElement("div");
		div.innerHTML = htmlText;
		var scripts = div.getElementsByTagName("script");
		for (var i = 0; i < scripts.length; ++i) 
		{
		   var script = scripts[i];
		   eval(script.innerHTML);
		}
		if(div["childNodes"] && div["childNodes"].length > 1)
		{
			return div;
		}
		return div.firstChild;
	}
	return null;
};

function evalScript(div,item)
{
	var scripts = div.getElementsByTagName("script");
	for (var i = 0; i < scripts.length; ++i) 
	{
	   var script = scripts[i];
	   eval(script.innerHTML);
	}
	if(window[item["callback"]])
	{
		clearInterval(callbackInterval);
		window[item["callback"]]();
	}
}


function windowResizeHandler() 
{
	var compMenu = document.getElementById("compMenu");
	var divDetails = document.getElementById("divDetails");
	divDetails.style.marginTop = compMenu.offsetHeight + "px";
	//  heightOutput.textContent = window.innerHeight;
	//  widthOutput.textContent = window.innerWidth;
}

window.addEventListener('load', loadHandler);
window.addEventListener('resize', windowResizeHandler);
</script>

<script id="script1">
</script>

</body>
</html>